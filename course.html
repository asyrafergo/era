<!DOCTYPE html>
<html lang="en">
<head>
<title>North Ergonomic : Course Registration</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

<style>
body {
  background: #c2bfc1;
  font-family: 'Poppins', sans-serif;
  margin: 0;
  padding: 0;
}

.header {
  background: #cc0000;
  color: white;
  padding: 40px 20px;
  text-align: center;
}

.header h1 {
  margin: 0;
  font-size: 36px;
  font-weight: 700;
}

.intro-box {
      background: #fff;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      margin-bottom: 30px;
    }

    .intro-box h3 {
      color: #cc0000;
      font-weight: 700;
    }

    .intro-box p {
      color: #555;
      font-size: 16px;
    }

.navbar {
  background: #fff;
  padding: 15px 20px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  margin-bottom: 30px;
}

.navbar a {
  color: #cc0000;
  margin-right: 20px;
  font-weight: 500;
}

.container {
  max-width: 1200px;
  margin: auto;
  padding: 20px;
}

.course-card {
  background: #fff;
  border-radius: 10px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  padding: 20px;
  margin-bottom: 20px;
}

.course-card h3 {
  margin-top: 0;
  color: #cc0000;
}

.course-card p {
  margin: 5px 0;
  color: #555;
}

.btn-register {
  background: #cc0000;
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 30px;
  font-weight: bold;
  margin-top: 10px;
}

.btn-register:hover {
  background: #990000;
}

.footer {
  background: #333;
  color: #ccc;
  text-align: center;
  padding: 20px;
  margin-top: 40px;
  font-size: 14px;
}

.contact-info {
      background: #fff;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      margin-top: 30px;
    }

    .contact-info h4 {
      font-weight: bold;
      color: #b30000;
    }

    .contact-info p {
      font-size: 16px;
      line-height: 1.6;
    }

    .page-section {
  display: none;
}
.cep-badge {
  background-color: #ffd700;
  color: #000;
  padding: 5px 12px;
  border-radius: 20px;
  font-weight: bold;
  font-size: 14px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.2);
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

.cep-badge .star {
  color: #cc0000;
  font-size: 16px;
}


</style>

<!-- jQuery + Bootstrap -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

</head>
<body>

  <div class="header" style="display: flex; align-items: center; justify-content: center; flex-direction: column;">
    <img src="photo_2025-03-17_23-35-03.jpg" alt="Logo" style="width: 100px; height: 100px; object-fit: contain; margin-bottom: 10px;">
    <h1>North Ergonomic Course Registration</h1>
  </div>
  

<div class="navbar text-center">
  <a href="javascript:void(0);" onclick="showPage('home')">Home</a>
  <a href="javascript:void(0);" onclick="showPage('about')">About Us</a>
  <a href="javascript:void(0);" onclick="showPage('courses')">Training</a>
  <a href="https://asyrafergo.github.io/era/register.html">Register</a>
</div>

<div class="intro-box" style="background: #fff; padding: 30px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); margin-bottom: 40px;">
  <h2 style="color: #cc0000; font-weight: 700; margin-bottom: 20px;">About This Course</h2>
  <p style="font-size: 16px; color: #555; line-height: 1.8;">
    At <strong>North Ergonomic Sdn Bhd</strong>, we are passionate about creating healthier and safer work environments. Our ergonomics services are tailored to industries of all sizes, focusing on boosting productivity, minimizing workplace injuries, and improving overall employee well-being.
  </p>
  <ul style="font-size: 16px; color: #555; line-height: 1.8; padding-left: 20px; margin-top: 20px;">
    <li>
      <strong>Training Programs:</strong> Comprehensive ergonomics training designed to equip employees with essential knowledge and practical techniques — from basic awareness to advanced ergonomics strategies.
    </li>
    <li>
      <strong>Ergonomics Risk Assessment (Initial & Advanced):</strong> We conduct detailed evaluations to identify potential risks, offering both initial baseline assessments and advanced solutions for long-term workplace improvements.
    </li>
    <li>
      <strong>Consultation Services:</strong> Personalized consultations to help organizations solve specific ergonomics challenges, enhance workspace designs, and implement best practices for employee safety.
    </li>
    <li>
      <strong>Advisory Services:</strong> Continuous support and expert advice to guide businesses in maintaining high ergonomic standards and achieving sustainable, healthy workplaces.
    </li>
  </ul>
</div>


<div class="container">

  <!-- Course List -->
  <div id="courses" class="page-section">
  </div>

</div>

<!-- Home Section -->
<div id="home" class="page-section">
  <h2 style="color: #cc0000; font-weight: 700; text-align: center; margin-bottom: 30px;">Gallery</h2>

  <div id="galleryCarousel" class="carousel slide" data-ride="carousel" data-interval="2000">
    <div class="carousel-inner">
      <div class="item active">
        <img src="jaja.jpg" alt="Image 1" style="width:100%; max-height:400px; object-fit:cover;" onclick="openImage(this.src)">
      </div>
      <div class="item">
        <img src="jajaj.jpg" alt="Image 2" style="width:100%; max-height:400px; object-fit:cover;" onclick="openImage(this.src)">
      </div>
      <div class="item">
        <img src="jajaja.jpg" alt="Image 3" style="width:100%; max-height:400px; object-fit:cover;" onclick="openImage(this.src)">
      </div>
    </div>

    <!-- Controls -->
    <a class="left carousel-control" href="#galleryCarousel" data-slide="prev">
      <span class="glyphicon glyphicon-chevron-left"></span>
    </a>
    <a class="right carousel-control" href="#galleryCarousel" data-slide="next">
      <span class="glyphicon glyphicon-chevron-right"></span>
    </a>
  </div>
</div>

<!-- About Us Section -->
<div id="about" class="page-section" style="margin-top: 50px;">
  <h2 style="color: #cc0000; font-weight: 700; text-align: center; margin-bottom: 30px;">About Us</h2>

  <div style="background-color: #fff; padding: 30px; border-radius: 8px; box-shadow: 0 0 20px rgba(0,0,0,0.1); max-width: 900px; margin: 0 auto; font-size: 16px; color: #333; line-height: 1.8;">
    <p><strong>Northern Ergonomics Solutions PLT</strong> is a registered training provider with HRDC, providing ergonomics-related services to industries.</p>

    <p>We are also a <strong>DOSH Registered Training Provider</strong> for Ergonomics Management Courses for Ergonomics Trained Person (Initial and Advanced ERA) (JKKP HIE 127/171-9/P6 (12)).</p>

    <p>Our services include:</p>
    <ul style="padding-left: 20px; margin-bottom: 20px;">
      <li>In-house and public Ergonomics Training (e.g., Customized Ergonomics Training and Workshop, Manual Material Handling, Office Ergonomics, Ergonomics Awareness for all levels)</li>
      <li>Ergonomics Risk Assessment (Initial and Advanced)</li>
      <li>Ergonomics Consultation</li>
      <li>Ergonomics Advisory</li>
    </ul>

    <p><strong>Our Vision:</strong> To be the leading ergonomics-related services provider in the nation.</p>
    <p><strong>Our Mission:</strong> To assist and facilitate industries in optimizing worker's performance through knowledge and minimizing ergonomics-related risks in the workplace.</p>
    <p><strong>Core Values:</strong> Reliability, Efficiency, Sustainability.</p>
  </div>
</div>

<!-- Contact Section -->
<div class="container">
  <div class="contact-info">
    <h4>Contact Information</h4>
    <p><strong>NORTH ERGONOMIC SDN BHD</strong></p>
    <p>For payment, kindly deposit into our Maybank account:</p>
    <p><strong>ACC NUMBER: 5574 0150 7647</strong></p>
    <p>Email: <a href="mailto:register@northergonomic.com.my">register@northergonomic.com.my</a></p>
    <p>Phone / Fax No: 019 - 609 4098</p>
  </div>
</div>

<div class="footer">
  &copy; 2025 North Ergonomic Sdn Bhd. All Rights Reserved.
</div>

<script type="module">
  window.showPage = showPage;
window.register = register;

import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
import { getDatabase, ref, get, onValue } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyAxfj2GwpREdwwvSL1_LhTUnSWAUwUT9pQ",
  authDomain: "ergo-1140d.firebaseapp.com",
  databaseURL: "https://ergo-1140d-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "ergo-1140d",
  storageBucket: "ergo-1140d.appspot.com",
  messagingSenderId: "139659476541",
  appId: "1:139659476541:web:78fd5c1593fae30f747454",
  measurementId: "G-NNGVRF3E5D"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

const courseSection = document.getElementById("courses");

function toShortTitle(fullTitle) {
  return fullTitle.toUpperCase();
}

function getLocationCode(venue) {
  if (!venue) return "";
  return venue.toUpperCase();
}

  function formatDateRange(dates) {
  const [start, end] = dates.split(" to ");
  const format = dateStr => {
    const [y, m, d] = dateStr.split("-");
    return `${d}/${m}/${y}`;
  };
  return `${format(start)} to ${format(end)}`;
}

function createCourseCard(program, id) {
  const title = toShortTitle(program.title);
  const location = getLocationCode(program.venue);
  const state = program.state.toUpperCase();
  const header = `${title} ${location} ${state}`;
  const cepRaw = program.cepPoints || "";
const cep = (cepRaw !== "CEP 0" && cepRaw !== "") 
  ? `<span class="cep-badge"><span class="star">★</span> ${cepRaw}</span>` 
  : "";


  const filled = program.participants ? Object.keys(program.participants).length : 0;
  const html = `
    <div class="course-card">
      <h3>${header}</h3>
      ${cep}
      <p><strong>State:</strong> ${state}</p>
      <p><strong>Venue:</strong> ${program.venue}</p>
      <p><strong>Dates:</strong> ${formatDateRange(program.dates)}</p>
      <p><strong>Slots:</strong> ${filled} / ${program.slots}</p>
      <p><strong>Session:</strong> ${program.session}</p>
      <button class="btn btn-register" onclick="register('${id}')">Register</button>
    </div>
  `;
  courseSection.insertAdjacentHTML("beforeend", html);
}

function register(programKey) {
  window.location.href = `https://asyrafergo.github.io/era/form.html?programKey=${programKey}`;
}

function loadPrograms() {
  const refPath = ref(db, "users/user1/Program");

  onValue(refPath, snapshot => {
    courseSection.innerHTML = ""; // Clear previous list
    if (!snapshot.exists()) return;

    const programs = snapshot.val();

    // Convert object to array with keys
    const programArray = Object.entries(programs).map(([key, program]) => ({
      key,
      ...program
    }));

    // Sort by earliest start date
    programArray.sort((a, b) => {
      const aDate = new Date(a.dates.split(" to ")[0]);
      const bDate = new Date(b.dates.split(" to ")[0]);
      return aDate - bDate;
    });

    // Render sorted courses
    programArray.forEach(program => {
      createCourseCard(program, program.key);
    });
  });
}

loadPrograms();

// Show Home by default
function showPage(pageId) {
  var sections = document.getElementsByClassName('page-section');
  for (var i = 0; i < sections.length; i++) {
    sections[i].style.display = 'none';
  }
  document.getElementById(pageId).style.display = 'block';
}

// Show Home by default
document.addEventListener("DOMContentLoaded", function() {
  showPage('home');
});

  </script>

</body>

</html>
